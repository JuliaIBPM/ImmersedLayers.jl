<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · ImmersedLayers.jl</title><meta name="title" content="Home · ImmersedLayers.jl"/><meta property="og:title" content="Home · ImmersedLayers.jl"/><meta property="twitter:title" content="Home · ImmersedLayers.jl"/><meta name="description" content="Documentation for ImmersedLayers.jl."/><meta property="og:description" content="Documentation for ImmersedLayers.jl."/><meta property="twitter:description" content="Documentation for ImmersedLayers.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>ImmersedLayers.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Package-objective"><span>Package objective</span></a></li><li><a class="tocitem" href="#Background"><span>Background</span></a></li><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><span class="tocitem">Basics</span><ul><li><a class="tocitem" href="manual/caches/">Immersed layer caches</a></li><li><a class="tocitem" href="manual/surfaceops/">Surface-grid operations</a></li><li><a class="tocitem" href="manual/multbodies/">Multiple bodies</a></li><li><a class="tocitem" href="manual/gridops/">Grid operations</a></li><li><a class="tocitem" href="manual/helmholtz/">Helmholtz decomposition</a></li><li><a class="tocitem" href="manual/matrices/">Matrix operators</a></li><li><a class="tocitem" href="manual/dirichlet/">A Dirichlet Poisson problem</a></li><li><a class="tocitem" href="manual/utilities/">Utilities</a></li></ul></li><li><span class="tocitem">Setting up PDEs</span><ul><li><a class="tocitem" href="manual/problems/">Problems and the system</a></li><li><a class="tocitem" href="manual/neumann/">Poisson with Neumann conditions</a></li><li><a class="tocitem" href="manual/stokes/">Stokes flow</a></li><li><a class="tocitem" href="manual/heatconduction/">Setting up a time-varying PDE</a></li><li><a class="tocitem" href="manual/heatconduction-unbounded/">A time-varying PDE with forcing</a></li><li><a class="tocitem" href="manual/heatconduction-neumann/">A time-varying PDE with Neumann conditions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaIBPM/ImmersedLayers.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaIBPM/ImmersedLayers.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="ImmersedLayers.jl"><a class="docs-heading-anchor" href="#ImmersedLayers.jl">ImmersedLayers.jl</a><a id="ImmersedLayers.jl-1"></a><a class="docs-heading-anchor-permalink" href="#ImmersedLayers.jl" title="Permalink"></a></h1><p><em>Tools for solving partial differential equations by immersing surfaces and their operations in Cartesian grids</em></p><h2 id="Package-objective"><a class="docs-heading-anchor" href="#Package-objective">Package objective</a><a id="Package-objective-1"></a><a class="docs-heading-anchor-permalink" href="#Package-objective" title="Permalink"></a></h2><p>The objective of this package is to implement tools and operations for solving partial differential equations (PDEs) on Cartesian grids. Objects in the domain of interest are handled by immersing them into the grid (rather than creating a grid that conforms to their shape). The package implements    </p><ul><li>the tools for regularizing and interpolating data between discretely-represented surfaces and Cartesian grids</li><li>discrete Heaviside functions that mask the regions interior or exterior of surfaces</li><li>discrete differential operators that immerse surface data into the grid (i.e., &quot;layers&quot;)</li><li>an easy framework for specifying a user-defined PDE problem and creating the caches and functions (e.g., boundary conditions, forcing, time marching) that fully implement this problem</li><li>several examples of prototypical PDEs, both time-invariant and time-varying</li></ul><p>At this time, the package only implements these in two spatial dimensions. The operators and tools are described in detail in <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>, but a summary is given below.</p><h2 id="Background"><a class="docs-heading-anchor" href="#Background">Background</a><a id="Background-1"></a><a class="docs-heading-anchor-permalink" href="#Background" title="Permalink"></a></h2><p>A lot of problems in physics involve surfaces and their interaction with fields in a higher-dimensional space. One way to facilitate this interaction is by &quot;immersing&quot; the surface data, as well as the associated operations on these data, into the higher-dimensional space, and similarly, allowing data in the higher-dimensional space to be restricted to the surface. Underlying these is the concept of a &quot;masked&quot; field, which takes a certain continuous form on one side of a surface and another form on the other side. A Heaviside function <span>$H$</span> can be used to write this mathematically <sup class="footnote-reference"><a id="citeref-1" href="#footnote-1">[1]</a></sup>:</p><p class="math-container">\[f = H(\chi) f^+ + H(-\chi) f^-\]</p><p>where <span>$\chi$</span> is a level set function, taking a positive value on the <span>$+$</span> side of the surface and negative value on the <span>$-$</span> side. The <span>$\chi=0$</span> level set implicitly defines the surface. Also, the gradient of <span>$\chi$</span> is proportional to the unit normal vector, <span>$\mathbf{n}$</span>. In fact, we can always choose this function so that it <em>is</em> the local normal.</p><p>A really neat thing happens when we take a spatial derivative of <span>$f$</span>. For example, the gradient:</p><p class="math-container">\[\nabla f = H(\chi) \nabla f^+ + H(-\chi) \nabla f^- + \delta(\chi)\mathbf{n}(f^+ - f^-)\]</p><p>Then, we get a masked form of the gradient fields of <span>$f$</span> on either side, <em>plus</em> a term involving the jump in <span>$f$</span> across the surface, times the normal vector, times the Dirac delta function <span>$\delta(\chi)$</span>. This last factor is the immersion operator: it immerses the surface jump in <span>$f$</span> into the higher-dimensional space. Other derivatives (e.g., curl, divergence of vector fields) lead to immersion similar terms. If we the divergence of the gradient above, we get a Poisson equation with two immersion terms:</p><p class="math-container">\[\nabla^2 f = H(\chi) \nabla^2 f^+ + H(-\chi) \nabla^2 f^- + \delta(\chi)\mathbf{n} \cdot (\nabla f^+ - \nabla f^-) +  \nabla \cdot \left[\delta(\chi)\mathbf{n}(f^+ - f^-) \right]\]</p><p>The last two terms are single and double layers, in the language of the theory of potentials. Generically, in any partial differential equation, we refer to these terms as <strong>immersed layers</strong>.</p><p>So standard partial differential equations can be adapted for the masked fields, so that the equations are augmented with the surface quantities. Restriction, <span>$\delta^T(\chi)$</span>, is the transpose of immersion. It arises when we wish to impose constraints on the surface behavior; we can instead apply this constraint to the restricted form of the masked field, e.g., setting it to a prescribed value, <span>$f_s$</span>, on the surface:</p><p class="math-container">\[\delta^T(\chi) f = f_s\]</p><p>In a computational environment, we discretize the fields on both the surface as well as in the higher-dimensional space, so this immersion process involves <em>regularization</em> (the discrete form of immersion) and <em>interpolation</em> (the discrete form of restriction), defined with the help of a discrete version of the Dirac delta function, the &quot;DDF&quot;. We discretize the higher-dimensional space with the a staggered Cartesian grid, using tools in the <code>CartesianGrids.jl</code> package, which is fully exported by this package. The package also exports <code>RigidBodyTools.jl</code>, which has a variety of tools for creating and transforming bodies.</p><p>For example, to regularize surface scalar data to the cell centers of the grid, we use a matrix operator, <span>$R_c$</span>. Alternatively, for regularizing vector surface data to cell faces, we use <span>$R_f$</span>. Each of these has a transpose, used for interpolation of the grid data to the surface points, e.g, <span>$R_c^T$</span>.</p><p>When we combine these operations with the standard differential operators on the grid, we get a powerful set of tools for numerically solving PDEs.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><p>This package works on Julia <code>1.4</code> and above and is registered in the general Julia registry. To install from the REPL, type e.g.,</p><pre><code class="language-julia hljs">] add ImmersedLayers</code></pre><p>Then, in any version, type</p><pre><code class="language-julia hljs">julia&gt; using ImmersedLayers</code></pre><p>The plots in this documentation are generated using <a href="http://docs.juliaplots.org/latest/">Plots.jl</a>. You might want to install that, too, to follow the examples.</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><section class="footnotes is-size-7"><ul><li class="footnote" id="footnote-1"><a class="tag is-link" href="#citeref-1">1</a>Eldredge, J. D. (2022) &quot;A method of immersed layers on Cartesian grids, with application to incompressible flows,&quot; Journal of Computational Physics, <strong>448</strong>, 110716.</li></ul></section></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="manual/caches/">Immersed layer caches »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Monday 23 September 2024 21:39">Monday 23 September 2024</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
